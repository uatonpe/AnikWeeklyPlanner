<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Anik Fin Pro | Management Intelligence 2.0</title>
    
    <!-- 
      SYSTEM ASSETS & LIBRARIES
      -------------------------------------------------------------------------
    -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --anik-primary: #1e40af;
            --anik-secondary: #3b82f6;
            --anik-success: #10b981;
            --anik-warning: #f59e0b;
            --anik-danger: #ef4444;
            --anik-bg: #f8fafc;
            --anik-card: #ffffff;
            --anik-border: #e2e8f0;
            --anik-text-dark: #0f172a;
            --anik-text-muted: #64748b;
        }

        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background-color: var(--anik-bg);
            color: var(--anik-text-dark);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        .marathi { font-family: 'Plus Jakarta Sans', sans-serif; letter-spacing: -0.01em; }

        /* PREMIUM UI COMPONENTS */
        .glass-navigation { 
            background: rgba(255, 255, 255, 0.98); 
            backdrop-filter: blur(12px); 
            border-bottom: 2px solid var(--anik-border); 
            position: sticky; top: 0; z-index: 1000;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }

        .anik-system-card { 
            background: var(--anik-card); 
            border-radius: 24px; 
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            border: 1px solid var(--anik-border); 
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        /* TAB NAVIGATION SYSTEM */
        .system-tab-btn {
            padding: 1rem 2rem;
            font-weight: 800;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            transition: all 0.3s ease;
            border-bottom: 4px solid transparent;
            color: var(--anik-text-muted);
        }

        .system-tab-btn.active {
            color: var(--anik-primary);
            border-bottom-color: var(--anik-primary);
            background: rgba(30, 64, 175, 0.04);
        }

        /* INPUT STYLING */
        .input-system-pro { 
            width: 100%; padding: 0.875rem 1.25rem; 
            border: 2px solid var(--anik-border); 
            border-radius: 14px; font-weight: 700;
            color: var(--anik-text-dark);
            outline: none; transition: all 0.3s ease; 
        }

        .input-system-pro:focus { 
            border-color: var(--anik-secondary); 
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.12);
        }

        .field-locked { background-color: #f1f5f9; color: #94a3b8; cursor: not-allowed; pointer-events: none; }
        .field-highlight { background-color: #ecfdf5; border-color: var(--anik-success); }

        /* BUTTONS */
        .btn-anik-primary { 
            background: linear-gradient(135deg, #1e40af 0%, #4f46e5 100%);
            color: white; padding: 1.125rem 2rem; border-radius: 16px; 
            font-weight: 800; width: 100%; transition: all 0.3s;
            box-shadow: 0 10px 15px -3px rgba(30, 64, 175, 0.3);
            text-transform: uppercase; cursor: pointer;
        }

        .btn-anik-success { 
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            color: white; padding: 1.125rem 2rem; border-radius: 16px; 
            font-weight: 800; width: 100%; transition: all 0.3s;
            box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.3);
            text-transform: uppercase; cursor: pointer;
        }

        /* LOADER */
        .system-loader-overlay { 
            position: fixed; inset: 0; background: rgba(255,255,255,0.98); 
            z-index: 9999; display: none; flex-direction: column; 
            align-items: center; justify-content: center; 
        }

        .spinner-pro {
            width: 60px; height: 60px;
            border: 6px solid #f3f3f3;
            border-top: 6px solid var(--anik-primary);
            border-radius: 50%;
            animation: system-spin 1s linear infinite;
        }

        @keyframes system-spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .fade-in-section { animation: fadeInSystem 0.6s ease-out forwards; }
        @keyframes fadeInSystem { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 10px;
            font-weight: 900;
            text-transform: uppercase;
        }
    </style>
</head>
<body class="pb-24">

    <!-- A. SYSTEM LOADER -->
    <div id="systemLoader" class="system-loader-overlay">
        <div class="spinner-pro"></div>
        <p class="mt-8 font-black text-blue-900 text-xl tracking-widest animate-pulse marathi">इंटेलिजन्स डेटा लोड होत आहे...</p>
    </div>

    <!-- B. NAVIGATION BAR -->
    <nav class="glass-navigation">
        <div class="max-w-7xl mx-auto px-6 py-5 flex flex-col md:flex-row justify-between items-center gap-6">
            <div class="flex items-center gap-6">
                <img src="https://anikfin.com/wp-content/uploads/2024/06/anik-horizontal-1-1024x400.png" class="h-10 md:h-12 object-contain" alt="Logo">
                <div class="h-8 w-px bg-slate-200 hidden md:block"></div>
                <h1 class="text-xl font-black text-slate-800 tracking-tighter marathi">INTEL CORE v2.0</h1>
            </div>
            
            <div class="w-full md:w-80">
                <select id="managerSelector" onchange="SystemCore.initManagerSession()" class="input-system-pro py-2.5 text-sm bg-white shadow-sm border-2">
                    <option value="">-- मॅनेजर निवडा --</option>
                </select>
            </div>
        </div>

        <!-- C. TAB SWITCHER -->
        <div class="max-w-7xl mx-auto px-6 flex border-t border-slate-100">
            <button onclick="SystemCore.switchTab('planner')" id="tabBtnPlanner" class="system-tab-btn active marathi">१. साप्ताहिक प्लॅनर (Target)</button>
            <button onclick="SystemCore.switchTab('achievement')" id="tabBtnAchievement" class="system-tab-btn marathi">२. अचीव्हमेंट ट्रॅकर (Actual)</button>
            <button onclick="SystemCore.switchTab('analytics')" id="tabBtnAnalytics" class="system-tab-btn marathi">३. परफॉर्मन्स अ‍ॅनालिटिक्स</button>
        </div>
    </nav>

    <!-- MAIN INTERFACE -->
    <main class="max-w-7xl mx-auto px-6 mt-10 space-y-10">
        
        <!-- SECTION: MANAGER INTRO -->
        <section id="uiIntro" class="hidden fade-in-section">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center bg-white p-8 rounded-[32px] border-2 border-slate-50 shadow-sm">
                <div>
                    <h2 class="text-4xl font-black text-slate-900 marathi">नमस्ते, <span id="uiManagerName" class="text-blue-600">...</span></h2>
                    <p class="text-slate-500 font-bold mt-2 marathi">तुमचा आजचा कार्य अहवाल आणि नियोजन खालीलप्रमाणे आहे.</p>
                </div>
                <div class="mt-6 md:mt-0 flex gap-4">
                    <div class="text-right">
                        <p class="text-[10px] font-black text-slate-400 uppercase tracking-widest">System Efficiency</p>
                        <p id="uiTopEfficiency" class="text-3xl font-black text-emerald-600">0%</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- WINDOW 1: STRATEGIC PLANNER (TARGET SETTING) -->
        <section id="windowPlanner" class="hidden space-y-8 fade-in-section">
            <div class="anik-system-card p-8">
                <div class="flex flex-col md:flex-row justify-between items-end gap-6 mb-10 pb-8 border-b border-slate-100">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full md:w-2/3">
                        <div class="space-y-2">
                            <label class="text-[11px] font-black text-slate-400 uppercase tracking-widest">Plan Start Date</label>
                            <input type="date" id="pStartDate" class="input-system-pro" onchange="PlannerEngine.checkExistingPlan()">
                        </div>
                        <div class="space-y-2">
                            <label class="text-[11px] font-black text-slate-400 uppercase tracking-widest">Plan End Date</label>
                            <input type="date" id="pEndDate" class="input-system-pro" onchange="PlannerEngine.checkExistingPlan()">
                        </div>
                    </div>
                    <div id="plannerStatus" class="hidden">
                        <span class="status-badge bg-amber-100 text-amber-700">Target Locked</span>
                    </div>
                </div>

                <div class="overflow-x-auto">
                    <table class="w-full text-left">
                        <thead>
                            <tr class="text-[11px] font-black text-slate-400 uppercase tracking-widest border-b-2 border-slate-50">
                                <th class="pb-4 px-4 w-1/3">Performance Unit (FX)</th>
                                <th class="pb-4 px-4">Weekly Target (₹)</th>
                                <th class="pb-4 px-4">OD Plan (₹)</th>
                                <th class="pb-4 px-4">Initial Strategy</th>
                            </tr>
                        </thead>
                        <tbody id="plannerTableBody" class="divide-y divide-slate-50">
                            <!-- Rows injected by JS -->
                        </tbody>
                    </table>
                </div>

                <div class="mt-10 p-8 bg-slate-50 rounded-3xl flex flex-col md:flex-row justify-between items-center gap-6">
                    <p class="marathi text-slate-600 font-bold max-w-xl">
                        <span class="text-blue-600">टीप:</span> एकदा टार्गेट सबमिट झाले की ते बदलता येणार नाही. अचीव्हमेंट भरण्यासाठी दुसऱ्या टॅबचा वापर करा.
                    </p>
                    <button id="btnSubmitPlan" onclick="PlannerEngine.submit()" class="btn-anik-primary md:w-72 marathi">साप्ताहिक प्लॅन लॉक करा</button>
                </div>
            </div>
        </section>

        <!-- WINDOW 2: ACHIEVEMENT TRACKER (RESULTS) -->
        <section id="windowAchievement" class="hidden space-y-8 fade-in-section">
            <div class="anik-system-card p-8 border-t-8 border-t-emerald-500">
                <div class="flex flex-col md:flex-row justify-between items-end gap-6 mb-10 pb-8 border-b border-slate-100">
                    <div class="w-full md:w-1/3 space-y-2">
                        <label class="text-[11px] font-black text-slate-400 uppercase tracking-widest">Select Existing Plan Week</label>
                        <select id="achPlanSelector" class="input-system-pro" onchange="AchievementEngine.loadPlanDetails()">
                            <option value="">-- उपलब्ध प्लॅन निवडा --</option>
                        </select>
                    </div>
                    <div class="flex gap-8">
                        <div class="text-center">
                            <p class="text-[10px] font-black text-slate-400 uppercase tracking-widest">Current Target</p>
                            <p id="achTotalTarget" class="text-xl font-black text-slate-800">₹ 0</p>
                        </div>
                        <div class="text-center">
                            <p class="text-[10px] font-black text-slate-400 uppercase tracking-widest">Live Actual</p>
                            <p id="achTotalActual" class="text-xl font-black text-emerald-600">₹ 0</p>
                        </div>
                    </div>
                </div>

                <div class="overflow-x-auto">
                    <table class="w-full text-left">
                        <thead>
                            <tr class="text-[11px] font-black text-slate-400 uppercase tracking-widest border-b-2 border-slate-50">
                                <th class="pb-4 px-4 w-1/3">Performance Unit</th>
                                <th class="pb-4 px-4">Set Target (₹)</th>
                                <th class="pb-4 px-4">Actual Achievement (₹)</th>
                                <th class="pb-4 px-4">Critical Action Taken</th>
                            </tr>
                        </thead>
                        <tbody id="achTableBody" class="divide-y divide-slate-50">
                            <!-- Rows injected by JS -->
                        </tbody>
                    </table>
                </div>

                <div class="mt-10 p-8 bg-emerald-50 rounded-3xl flex flex-col md:flex-row justify-between items-center gap-6 border border-emerald-100">
                    <div class="marathi text-emerald-900 font-bold italic">
                        "तुमच्या अचीव्हमेंट नोंदी सिस्टिमला रिअल-टाइम फीडबॅक देतात."
                    </div>
                    <button id="btnSubmitAch" onclick="AchievementEngine.submit()" class="btn-anik-success md:w-72 marathi">अचीव्हमेंट अपडेट करा</button>
                </div>
            </div>
        </section>

        <!-- WINDOW 3: ANALYTICS -->
        <section id="windowAnalytics" class="hidden grid grid-cols-1 lg:grid-cols-2 gap-8 fade-in-section">
            <div class="anik-system-card p-10">
                <h4 class="text-xl font-black mb-8 marathi">कार्यक्षमता कल (Efficiency Trend)</h4>
                <div class="h-64"><canvas id="chartTrend"></canvas></div>
            </div>
            <div class="anik-system-card p-10">
                <h4 class="text-xl font-black mb-8 marathi">युनिट-वार विभागणी (Unit Breakdown)</h4>
                <div class="h-64"><canvas id="chartDonut"></canvas></div>
            </div>
        </section>

    </main>

    <!-- SYSTEM SCRIPT ENGINE -->
    <script>
        /**
         * 1. GLOBAL STATE & CONFIG
         */
        const STATE = {
            activeManager: "",
            history: [],
            fxUnits: [
                "Gold Loan Disbursement (₹)",
                "Personal Loan Portfolio (₹)",
                "Business Loan Recovery (₹)",
                "Insurance / Third Party (₹)",
                "OD Collection Performance (₹)",
                "New Sourcing & Leads"
            ],
            currentView: "planner",
            api: "https://script.google.com/macros/s/AKfycbxrsdH0yjhKLl6mQi7pnq6l__J3M3BZvmqseBxYDamv18zi6o8BfRcPcYIK06Boy6Ma/exec"
        };

        const SystemCore = {
            async init() {
                this.setLoading(true);
                try {
                    const res = await fetch(`${STATE.api}?action=getManagers`);
                    const managers = await res.json();
                    const el = document.getElementById('managerSelector');
                    managers.forEach(m => {
                        const opt = document.createElement('option');
                        opt.value = m; opt.innerText = m;
                        el.appendChild(opt);
                    });
                } catch (e) { alert("सिस्टम एरर: मॅनेजर लिस्ट लोड होऊ शकली नाही."); }
                this.setLoading(false);
            },

            async initManagerSession() {
                const m = document.getElementById('managerSelector').value;
                if (!m) return this.hideAll();
                
                STATE.activeManager = m;
                document.getElementById('uiManagerName').innerText = m;
                document.getElementById('uiIntro').classList.remove('hidden');
                
                this.setLoading(true);
                try {
                    const res = await fetch(`${STATE.api}?action=getManagerData&manager=${encodeURIComponent(m)}`);
                    const data = await res.json();
                    STATE.history = data.history || [];
                    if (data.fxList) STATE.fxUnits = data.fxList;

                    this.switchTab(STATE.currentView);
                    this.populateAchDropdown();
                    this.updateEfficiencyHeader();
                    AnalyticsEngine.render();
                } catch (e) { alert("डेटा फेच करताना अडचण आली."); }
                this.setLoading(false);
            },

            switchTab(tab) {
                STATE.currentView = tab;
                const windows = ['windowPlanner', 'windowAchievement', 'windowAnalytics'];
                const btns = ['tabBtnPlanner', 'tabBtnAchievement', 'tabBtnAnalytics'];
                
                windows.forEach(w => document.getElementById(w).classList.add('hidden'));
                btns.forEach(b => document.getElementById(b).classList.remove('active'));

                if (tab === 'planner') {
                    document.getElementById('windowPlanner').classList.remove('hidden');
                    document.getElementById('tabBtnPlanner').classList.add('active');
                    PlannerEngine.reset();
                } else if (tab === 'achievement') {
                    document.getElementById('windowAchievement').classList.remove('hidden');
                    document.getElementById('tabBtnAchievement').classList.add('active');
                } else {
                    document.getElementById('windowAnalytics').classList.remove('hidden');
                    document.getElementById('tabBtnAnalytics').classList.add('active');
                    AnalyticsEngine.render();
                }
            },

            populateAchDropdown() {
                const sel = document.getElementById('achPlanSelector');
                sel.innerHTML = '<option value="">-- उपलब्ध प्लॅन निवडा --</option>';
                STATE.history.forEach((h, index) => {
                    const opt = document.createElement('option');
                    opt.value = index;
                    opt.innerText = `${h.sDate} ते ${h.eDate}`;
                    sel.appendChild(opt);
                });
            },

            updateEfficiencyHeader() {
                if (STATE.history.length === 0) return;
                const last = STATE.history[STATE.history.length - 1];
                let t = 0, a = 0;
                last.details.forEach(d => { t += Number(d.tDisb || 0); a += Number(d.aDisb || 0); });
                const eff = t > 0 ? ((a/t)*100).toFixed(0) : 0;
                document.getElementById('uiTopEfficiency').innerText = `${eff}%`;
            },

            setLoading(s) { document.getElementById('systemLoader').style.display = s ? 'flex' : 'none'; },
            hideAll() { ['uiIntro', 'windowPlanner', 'windowAchievement', 'windowAnalytics'].forEach(id => document.getElementById(id).classList.add('hidden')); }
        };

        /**
         * 2. PLANNER ENGINE (WINDOW 1)
         */
        const PlannerEngine = {
            reset() {
                document.getElementById('pStartDate').value = "";
                document.getElementById('pEndDate').value = "";
                document.getElementById('plannerStatus').classList.add('hidden');
                document.getElementById('btnSubmitPlan').disabled = false;
                this.renderRows(false);
            },

            checkExistingPlan() {
                const s = document.getElementById('pStartDate').value;
                const e = document.getElementById('pEndDate').value;
                if (!s || !e) return;

                const exists = STATE.history.find(h => h.sDate === s && h.eDate === e);
                if (exists) {
                    alert("या कालावधीसाठी प्लॅन आधीच तयार आहे. कृपया अचीव्हमेंट टॅबमध्ये जा.");
                    document.getElementById('plannerStatus').classList.remove('hidden');
                    document.getElementById('btnSubmitPlan').disabled = true;
                    this.renderRows(true, exists.details);
                } else {
                    document.getElementById('plannerStatus').classList.add('hidden');
                    document.getElementById('btnSubmitPlan').disabled = false;
                    this.renderRows(false);
                }
            },

            renderRows(isLocked, data = []) {
                const body = document.getElementById('plannerTableBody');
                body.innerHTML = "";
                STATE.fxUnits.forEach((unit, i) => {
                    const rowData = data[i] || { tDisb: "", tOd: "", pd: "" };
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                        <td class="py-6 px-4 font-bold text-slate-700 text-sm">${unit}</td>
                        <td class="py-6 px-4"><input type="number" class="p-t-val input-system-pro ${isLocked ? 'field-locked' : ''}" value="${rowData.tDisb}" ${isLocked ? 'readonly' : ''}></td>
                        <td class="py-6 px-4"><input type="number" class="p-o-val input-system-pro ${isLocked ? 'field-locked' : ''}" value="${rowData.tOd}" ${isLocked ? 'readonly' : ''}></td>
                        <td class="py-6 px-4"><input type="text" class="p-p-val input-system-pro ${isLocked ? 'field-locked' : ''}" value="${rowData.pd}" ${isLocked ? 'readonly' : ''}></td>
                    `;
                    body.appendChild(tr);
                });
            },

            async submit() {
                const s = document.getElementById('pStartDate').value;
                const e = document.getElementById('pEndDate').value;
                if (!s || !e) return alert("तारीख निवडा!");

                if (!confirm("एकदा लॉक केल्यावर टार्गेट बदलता येणार नाही. सुरू ठेवायचे?")) return;

                const rows = document.querySelectorAll('#plannerTableBody tr');
                const details = Array.from(rows).map((r, i) => ({
                    name: STATE.fxUnits[i],
                    tDisb: r.querySelector('.p-t-val').value,
                    tOd: r.querySelector('.p-o-val').value,
                    pd: r.querySelector('.p-p-val').value,
                    aDisb: "0"
                }));

                SystemCore.setLoading(true);
                try {
                    await fetch(STATE.api, { method: 'POST', body: JSON.stringify({ manager: STATE.activeManager, sDate: s, eDate: e, fxDetails: details }) });
                    alert("साप्ताहिक प्लॅन यशस्वीरित्या लॉक झाला!");
                    location.reload();
                } catch (err) { alert("एरर आला आहे."); }
                SystemCore.setLoading(false);
            }
        };

        /**
         * 3. ACHIEVEMENT ENGINE (WINDOW 2)
         */
        const AchievementEngine = {
            loadPlanDetails() {
                const idx = document.getElementById('achPlanSelector').value;
                const body = document.getElementById('achTableBody');
                body.innerHTML = "";
                
                if (idx === "") return;
                const plan = STATE.history[idx];
                let totalT = 0, totalA = 0;

                plan.details.forEach(d => {
                    totalT += Number(d.tDisb || 0);
                    totalA += Number(d.aDisb || 0);
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                        <td class="py-6 px-4 font-bold text-slate-700 text-sm">${d.name}</td>
                        <td class="py-6 px-4 font-black text-blue-700">₹ ${Number(d.tDisb).toLocaleString()}</td>
                        <td class="py-6 px-4"><input type="number" class="a-a-val input-system-pro field-highlight" value="${d.aDisb}" oninput="AchievementEngine.calc()"></td>
                        <td class="py-6 px-4"><input type="text" class="a-r-val input-system-pro" value="${d.pd || ''}"></td>
                    `;
                    body.appendChild(tr);
                });

                document.getElementById('achTotalTarget').innerText = `₹ ${totalT.toLocaleString()}`;
                this.calc();
            },

            calc() {
                let total = 0;
                document.querySelectorAll('.a-a-val').forEach(i => total += Number(i.value || 0));
                document.getElementById('achTotalActual').innerText = `₹ ${total.toLocaleString()}`;
            },

            async submit() {
                const idx = document.getElementById('achPlanSelector').value;
                if (idx === "") return alert("आधी प्लॅन निवडा!");

                const plan = STATE.history[idx];
                const rows = document.querySelectorAll('#achTableBody tr');
                const details = Array.from(rows).map((r, i) => ({
                    name: plan.details[i].name,
                    tDisb: plan.details[i].tDisb,
                    tOd: plan.details[i].tOd,
                    aDisb: r.querySelector('.a-a-val').value,
                    pd: r.querySelector('.a-r-val').value
                }));

                SystemCore.setLoading(true);
                try {
                    await fetch(STATE.api, { method: 'POST', body: JSON.stringify({ manager: STATE.activeManager, sDate: plan.sDate, eDate: plan.eDate, fxDetails: details }) });
                    alert("अचीव्हमेंट यशस्वीरित्या अपडेट झाली!");
                    location.reload();
                } catch (err) { alert("अपडेट अयशस्वी."); }
                SystemCore.setLoading(false);
            }
        };

        /**
         * 4. ANALYTICS ENGINE (WINDOW 3)
         */
        const AnalyticsEngine = {
            render() {
                if (STATE.history.length === 0) return;
                const labels = STATE.history.slice(-5).map(h => h.sDate);
                const dataPoints = STATE.history.slice(-5).map(h => {
                    let t = 0, a = 0;
                    h.details.forEach(d => { t += Number(d.tDisb); a += Number(d.aDisb); });
                    return t > 0 ? ((a/t)*100).toFixed(0) : 0;
                });

                new Chart(document.getElementById('chartTrend'), {
                    type: 'line',
                    data: { labels, datasets: [{ label: 'Efficiency %', data: dataPoints, borderColor: '#1e40af', tension: 0.4, fill: true, backgroundColor: 'rgba(30, 64, 175, 0.05)' }] },
                    options: { responsive: true, maintainAspectRatio: false }
                });

                new Chart(document.getElementById('chartDonut'), {
                    type: 'doughnut',
                    data: { labels: STATE.fxUnits.slice(0, 4), datasets: [{ data: [40, 25, 20, 15], backgroundColor: ['#1e40af', '#3b82f6', '#10b981', '#f59e0b'] }] },
                    options: { responsive: true, maintainAspectRatio: false }
                });
            }
        };

        // Launch System
        window.addEventListener('load', () => SystemCore.init());
    </script>
</body>
</html>
